<ion-view title="Login" hide-back-button="true" cache-view="false">
  <ion-nav-bar>
    <ion-nav-buttons side="left">
      <button ng-show="isForgotPassword || isSignUp" class="button icon-left ion-chevron-left button-clear button-dark" on-tap="showLogin();">Back</button>
    </ion-nav-buttons>
  </ion-nav-bar>

    <ion-content padding="true">

      <div class="card">

        <div class="item item-divider item-text-wrap text-center" ng-show="isCurrentUser">Hi {{firstname}} welcome back please log in</div>

        <div class="item">

          <form name="loginForm" class="list " ng-show="isLogin" novalidate>

            <ion-list>

              <label class="item item-input">
                  <span class="input-label">Email</span>
                  <input type="email" placeholder="name@domain.com" ng-model="data.email" name="email" ng-focus="clearErrorMessage();" required>
              </label>

              <label class="item item-input">
                  <span class="input-label">Password</span>
                  <input type="password" placeholder="********" ng-model="data.password" name="password" ng-focus="clearErrorMessage();" required>
              </label>

              <ion-toggle toggle-class="toggle-positive" ng-model="data.remember">Stay Logged In? {{data.remember ? 'On' : 'Off'}}</ion-toggle>

              <p class="error-message" ng-show="loginForm.email.$invalid && !loginForm.email.$pristine">Please enter a valid email address</p>
              <div ng-bind-html="message"></div>

              <button class="button button-stable button-block" on-tap="doLogin();" ng-disabled="loginForm.$invalid">Log in</button>
              <button class="button button-positive button-block button-clear squash-button" on-tap="showCreateAccount();">Or create an account</button>
              <button class="button button-positive button-block button-clear squash-button"
                      on-tap="showForgotPassword();"
                      ng-show="forgotPassword">Forgot your password?</button>

            </ion-list>



          </form>

          <form name="signupForm" class="list" ng-show="isSignUp" novalidate>

            <ion-list>

              <label class="item item-input">
                  <span class="input-label">First Name</span>
                  <input type="text" placeholder="first name" ng-model="data.firstname" name="firstname" ng-focus="clearErrorMessage();" required>
              </label>

              <label class="item item-input">
                  <span class="input-label">Last Name</span>
                  <input type="text" placeholder="last name" ng-model="data.lastname" name="lastname" ng-focus="clearErrorMessage();" required>
              </label>

              <label class="item item-input">
                  <span class="input-label">Email</span>
                  <input type="email" placeholder="name@domain.com" name="email" ng-model="data.email" ng-focus="clearErrorMessage();" required>
              </label>

              <label class="item item-input">
                  <span class="input-label">Password</span>
                  <input type="password" placeholder="********" ng-model="data.password" name="password" ng-focus="clearErrorMessage();" ng-minlength="5" required>
              </label>

              <p class="error-message" ng-show="signupForm.email.$invalid && !signupForm.$pristine">Please enter a valid email address</p>
              <p class="error-message" ng-show="signupForm.firstname.$invalid && !signupForm.$pristine">Please enter a first name</p>
              <p class="error-message" ng-show="signupForm.lastname.$invalid && !signupForm.$pristine">Please enter a last name</p>
              <p class="error-message" ng-show="signupForm.password.$error.minlength">Password must be at least 5 characters long</p>
              <div ng-bind-html="message"></div>

              <button class="button button-stable button-block" on-tap="doSignUp();" ng-disabled="signupForm.$invalid">Sign up and log me in</button>

            </ion-list>

          </form>

          <form name="forgotPasswordForm" class="list" ng-show="isForgotPassword" novalidate>

            <ion-list>

              <label class="item item-input">
                  <span class="input-label">Email</span>
                  <input type="email" placeholder="name@domain.com" ng-model="data.email" name="email" ng-focus="clearErrorMessage();" required>
              </label>

              <p class="error-message" ng-show="forgotPasswordForm.email.$invalid && !forgotPasswordForm.email.$pristine">Please enter a valid email address</p>
              <div ng-bind-html="message"></div>

              <button class="button button-stable  button-block" on-tap="doRecoverPassword();" ng-disabled="forgotPasswordForm.$invalid">Reset my password</button>
            </ion-list>

          </form>

          <button class="button button-stable  button-block icon-left ion-social-facebook"
                  on-tap="doFacebookLogin();">
                  Sign In with Facebook
          </button>

          <button class="button button-stable  button-block icon-left ion-social-twitter"
                  on-tap="doTwitterLogin();">
                  Sign In with Twitter
          </button>

          <button class="button button-stable  button-block icon-left ion-social-google"
                  on-tap="doGoogleLogin();">
                  Sign In with Google
          </button>

        </div>

    </ion-content>
</ion-view>
